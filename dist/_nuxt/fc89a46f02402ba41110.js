(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{735:function(o,e,t){"use strict";t.r(e);t(44);var l={props:{show:Boolean},components:{modal:function(){return t.e(0).then(t.bind(null,738))}},computed:{collectionJson:function(){return JSON.stringify(this.$store.state.postwoman.collections,null,2)}},methods:{hideModel:function(){this.$emit("hide-modal")},openDialogChooseFileToReplaceWith:function(){this.$refs.inputChooseFileToReplaceWith.click()},openDialogChooseFileToImportFrom:function(){this.$refs.inputChooseFileToImportFrom.click()},replaceWithJSON:function(){var o=this,e=new FileReader;e.onload=function(e){var content=e.target.result,t=JSON.parse(content);o.$store.commit("postwoman/replaceCollections",t)},e.readAsText(this.$refs.inputChooseFileToReplaceWith.files[0])},importFromJSON:function(){var o=this,e=new FileReader;e.onload=function(e){var content=e.target.result,t=JSON.parse(content);o.$store.commit("postwoman/importCollections",t)},e.readAsText(this.$refs.inputChooseFileToImportFrom.files[0])},exportJSON:function(){var text=this.collectionJson;text=text.replace(/\n/g,"\r\n");var o=new Blob([text],{type:"text/json"}),e=document.createElement("a");e.download="postwoman-collection.json",e.href=window.URL.createObjectURL(o),e.target="_blank",e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},n=t(33),component=Object(n.a)(l,(function(){var o=this,e=o.$createElement,t=o._self._c||e;return o.show?t("modal",{on:{close:o.hideModel}},[t("div",{attrs:{slot:"header"},slot:"header"},[t("ul",[t("li",[t("div",{staticClass:"flex-wrap"},[t("h3",{staticClass:"title"},[o._v("导入/导出集合")]),o._v(" "),t("div",[t("button",{staticClass:"icon",on:{click:o.hideModel}},[t("i",{staticClass:"material-icons"},[o._v("close")])])])])])])]),o._v(" "),t("div",{attrs:{slot:"body"},slot:"body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:o.collectionJson,expression:"collectionJson"}],attrs:{rows:"8"},domProps:{value:o.collectionJson},on:{input:function(e){e.target.composing||(o.collectionJson=e.target.value)}}})]),o._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("ul",[t("li",[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"替换当前",expression:"'替换当前'"}],staticClass:"icon",on:{click:o.openDialogChooseFileToReplaceWith}},[t("i",{staticClass:"material-icons"},[o._v("create_new_folder")]),o._v(" "),t("span",[o._v("替换为JSON")]),o._v(" "),t("input",{ref:"inputChooseFileToReplaceWith",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:o.replaceWithJSON}})])]),o._v(" "),t("li",[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"保存当前",expression:"'保存当前'"}],staticClass:"icon",on:{click:o.openDialogChooseFileToImportFrom}},[t("i",{staticClass:"material-icons"},[o._v("folder_shared")]),o._v(" "),t("span",[o._v("从JSON导入")]),o._v(" "),t("input",{ref:"inputChooseFileToImportFrom",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:o.importFromJSON}})])]),o._v(" "),t("li",[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"下载文件",expression:"'下载文件'"}],staticClass:"icon",on:{click:o.exportJSON}},[t("i",{staticClass:"material-icons"},[o._v("get_app")]),o._v(" "),t("span",[o._v("导出为JSON")])])])])])]):o._e()}),[],!1,null,null,null);e.default=component.exports}}]);