(window.webpackJsonp=window.webpackJsonp||[]).push([[16,1],{219:function(e,t,r){var content=r(242);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(43).default)("77d6318b",content,!0,{sourceMap:!1})},229:function(e,t,r){"use strict";t.a={name:"textareaAutoHeight",update:function(e){var t=e.scrollHeight,r=e.clientHeight,style=e.style;t!==r&&(style.minHeight="".concat(t,"px"))}}},241:function(e,t,r){"use strict";var o=r(219);r.n(o).a},242:function(e,t,r){(e.exports=r(42)(!1)).push([e.i,"fieldset.no-colored-frames legend{color:var(--fg-color)}",""])},256:function(e,t,r){"use strict";r(28),r(15),r(10),r(7),r(21);var o=r(9),n=r(257),l=r.n(n);r(259);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={props:{value:{type:String,default:""},theme:{type:String,required:!1},lang:{type:String,default:"json"},options:{type:Object,default:{}}},data:function(){return{editor:null,cacheValue:""}},watch:{value:function(e){e!==this.cacheValue&&(this.editor.session.setValue(e,1),this.cacheValue=e)},theme:function(){this.editor.setTheme("ace/theme/"+this.defineTheme())},lang:function(e){this.editor.getSession().setMode("ace/mode/"+e)},options:function(e){this.editor.setOptions(e)}},mounted:function(){var e=l.a.edit(this.$refs.editor,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({theme:"ace/theme/"+this.defineTheme(),mode:"ace/mode/"+this.lang},this.options));e.setValue(this.value),this.editor=e,this.cacheValue=this.value},methods:{defineTheme:function(){return this.theme?this.theme:this.$store.state.postwoman.settings.THEME_ACE_EDITOR||"dracula"}},beforeDestroy:function(){this.editor.destroy(),this.editor.container.remove()}},h=r(33),component=Object(h.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("pre",{ref:"editor"})}),[],!1,null,null,null);t.a=component.exports},263:function(e,t,r){"use strict";r.r(t);var o={computed:{frameColorsEnabled:function(){return this.$store.state.postwoman.settings.FRAME_COLORS_ENABLED||!1}},data:function(){return{isCollapsed:!1}},props:{label:{type:String,default:"Section"},collapsed:{type:Boolean}},methods:{collapse:function(e){e.target.parentNode.parentNode.querySelector(".collapsible").classList.toggle("hidden"),this.isCollapsed=!this.isCollapsed}}},n=(r(241),r(33)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{class:{"no-colored-frames":!e.frameColorsEnabled},attrs:{id:e.label.toLowerCase()}},[r("legend",{on:{click:function(t){return t.preventDefault(),e.collapse(t)}}},[r("span",[e._v(e._s(e.label))]),e._v(" "),e.isCollapsed?r("i",{staticClass:"material-icons"},[e._v("expand_more")]):e._e(),e._v(" "),e.isCollapsed?e._e():r("i",{staticClass:"material-icons"},[e._v("expand_less")])]),e._v(" "),r("div",{staticClass:"collapsible",class:{hidden:e.collapsed}},[e._t("default")],2)])}),[],!1,null,null,null);t.default=component.exports},685:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=685},712:function(e,t,r){"use strict";r.r(t);var o=r(14),n=r(39),l=(r(44),r(10),r(21),r(89),r(90),r(7),r(13),r(3)),section=(r(94),r(34),r(56),r(72),r(45),r(92),r(263)),c=r(262),d=r.n(c),h=r(243),m=r.n(h),v=r(229),f=(r(133),r(22)),y=r(134),w=function(e){/\r|\n/.exec(e)&&(e=e.replace(/\\\r|\\\n/g,"")),e=(e=(e=(e=(e=(e=e.replace(/ -XPOST/," -X POST")).replace(/ -XGET/," -X GET")).replace(/ -XPUT/," -X PUT")).replace(/ -XPATCH/," -X PATCH")).replace(/ -XDELETE/," -X DELETE")).trim();var t,n,l,d=r(677)(e),m=d._[1];if(!m)for(var v in d)"string"==typeof d[v]&&["http","www."].includes(d[v])&&(m=d[v]);var w,_,R=function(e){d[e]&&(l||(l={}),Array.isArray(d[e])||(d[e]=[d[e]]),d[e].forEach((function(header){if(header.includes("Cookie"))t=header;else{var e=header.indexOf(":"),r=header.substring(0,e),o=header.substring(e+1).trim();l[r]=o}})))};if(R("H"),R("header"),d.A?(l||(l=[]),l["User-Agent"]=d.A):d["user-agent"]&&(l||(l=[]),l["User-Agent"]=d["user-agent"]),d.b&&(t=d.b),d.cookie&&(t=d.cookie),d.F&&(w={},Array.isArray(d.F)||(d.F=[d.F]),d.F.forEach((function(e){var t=e.split("=",2),r=Object(f.a)(t,2),o=r[0],n=r[1];w[o]=n}))),t){n=y.parse(t.replace(/^Cookie: /gi,""),{decode:function(s){return s}})}_="POST"===d.X?"post":"PUT"===d.X||d.T?"put":"PATCH"===d.X?"patch":"DELETE"===d.X?"delete":"OPTIONS"===d.X?"options":!(d.d||d.data||d["data-ascii"]||d["data-binary"]||d.F||d.form)||d.G||d.get?d.I||d.head?"head":"get":"post";var P=!!d.compressed,C=c.parse(m);if(d.G||d.get){C.query=C.query?C.query:"";var option="d"in d?"d":"data"in d?"data":null;if(option){var x="";m.includes("?")?x+="&":m+="?","object"===Object(o.a)(d[option])?x+=d[option].join("&"):x+=d[option],C.query+=x,m+=x,delete d[option]}}var T=h.parse(C.query,null,null,{maxKeys:1e4});C.search=null;var k,data,S={url:m,urlWithoutQuery:c.format(C)};return P&&(S.compressed=!0),Object.keys(T).length>0&&(S.query=T),l&&(S.headers=l),S.method=_,n&&(S.cookies=n,S.cookieString=t.replace("Cookie: ","")),w&&(S.multipartUploads=w),d.data?S.data=d.data:d["data-binary"]?(S.data=d["data-binary"],S.isDataBinary=!0):d.d?S.data=d.d:d["data-ascii"]&&(S.data=d["data-ascii"]),d.u&&(S.auth=d.u),d.user&&(S.auth=d.user),Array.isArray(S.data)&&(S.dataArray=S.data,S.data=(k=S.data,data="",k.forEach((function(e,i){data+=0===i?e:"&".concat(e)})),data)),(d.k||d.insecure)&&(S.insecure=!0),S};function _(script){var e={},t={environment:{set:function(t,r){return e[t]=r}},env:{set:function(t,r){return e[t]=r}}};return new Function("pw",script)(t),e}function R(e,t){if(!t||!e)return e;return e.replace(/<<([^>]*)>>/g,(function(e,r){return t[r]||""}))}var P,C,x=r(256),T=[{name:"informational",statusCodeRegex:new RegExp(/[1][0-9]+/),className:"info-response"},{name:"successful",statusCodeRegex:new RegExp(/[2][0-9]+/),className:"success-response"},{name:"redirection",statusCodeRegex:new RegExp(/[3][0-9]+/),className:"redir-response"},{name:"client error",statusCodeRegex:new RegExp(/[4][0-9]+/),className:"cl-error-response"},{name:"server error",statusCodeRegex:new RegExp(/[5][0-9]+/),className:"sv-error-response"},{name:"unknown",statusCodeRegex:new RegExp(/.*/),className:"missing-data-response"}],k=function(e){return T.find((function(t){return t.statusCodeRegex.test(e)}))},S={directives:{textareaAutoHeight:v.a},components:{"pw-section":section.default,"pw-toggle":function(){return r.e(11).then(r.bind(null,725))},"pw-modal":function(){return r.e(0).then(r.bind(null,738))},history:function(){return r.e(27).then(r.bind(null,727))},autocomplete:function(){return r.e(26).then(r.bind(null,728))},collections:function(){return r.e(23).then(r.bind(null,718))},saveRequestAs:function(){return r.e(36).then(r.bind(null,729))},ResponseBody:x.a},data:function(){return{showModal:!1,showPreRequestScript:!1,preRequestScript:"",copyButton:'<i class="material-icons">file_copy</i>',downloadButton:'<i class="material-icons">get_app</i>',doneButton:'<i class="material-icons">done</i>',isHidden:!0,response:{status:"",headers:"",body:""},previewEnabled:!1,paramsWatchEnabled:!0,expandResponse:!1,knownContentTypes:["application/json","application/x-www-form-urlencoded"],validContentTypes:["application/json","application/hal+json","application/xml","application/x-www-form-urlencoded","text/html","text/plain"],showRequestModal:!1,editRequest:{},urlExcludes:{},responseBodyText:"",responseBodyType:"text",responseBodyMaxLines:16}},watch:{urlExcludes:{deep:!0,handler:function(){this.$store.commit("postwoman/applySetting",["URL_EXCLUDES",Object.assign({},this.urlExcludes)])}},contentType:function(e){this.rawInput=!this.knownContentTypes.includes(e)},rawInput:function(e){e&&""===this.rawParams?this.rawParams="{}":this.setRouteQueryState()},"response.body":function(e){"(等待发送请求)"===this.response.body||"Loading..."===this.response.body?(this.responseBodyText=this.response.body,this.responseBodyType="text"):"application/json"===this.responseType||"application/hal+json"===this.responseType?(this.responseBodyText=JSON.stringify(this.response.body,null,2),this.responseBodyType="json"):"text/html"===this.responseType?(this.responseBodyText=this.response.body,this.responseBodyType="html"):(this.responseBodyText=this.response.body,this.responseBodyType="text")},params:{handler:function(e){if(this.paramsWatchEnabled){var path=this.path,t=e.filter((function(e){return!!e.key})).map((function(e){var t=e.key,r=e.value;return"".concat(t,"=").concat(r)})).join("&");t=""===t?"":"?".concat(t),path.includes("?")?path=path.slice(0,path.indexOf("?"))+t:path+=t,this.path=path}else this.paramsWatchEnabled=!0},deep:!0},selectedRequest:function(e,t){e&&(this.url=e.url,this.path=e.path,this.method=e.method,this.auth=e.auth,this.httpUser=e.httpUser,this.httpPassword=e.httpPassword,this.passwordFieldType=e.passwordFieldType,this.bearerToken=e.bearerToken,this.headers=e.headers,this.params=e.params,this.bodyParams=e.bodyParams,this.rawParams=e.rawParams,this.rawInput=e.rawInput,this.contentType=e.contentType,this.requestType=e.requestType)},editingRequest:function(e){this.editRequest=e,this.showRequestModal=!0}},computed:{url:{get:function(){return this.$store.state.request.url},set:function(e){this.$store.commit("setState",{value:e,attribute:"url"})}},method:{get:function(){return this.$store.state.request.method},set:function(e){this.$store.commit("setState",{value:e,attribute:"method"})}},path:{get:function(){return this.$store.state.request.path},set:function(e){this.$store.commit("setState",{value:e,attribute:"path"})}},label:{get:function(){return this.$store.state.request.label},set:function(e){this.$store.commit("setState",{value:e,attribute:"label"})}},auth:{get:function(){return this.$store.state.request.auth},set:function(e){this.$store.commit("setState",{value:e,attribute:"auth"})}},httpUser:{get:function(){return this.$store.state.request.httpUser},set:function(e){this.$store.commit("setState",{value:e,attribute:"httpUser"})}},httpPassword:{get:function(){return this.$store.state.request.httpPassword},set:function(e){this.$store.commit("setState",{value:e,attribute:"httpPassword"})}},bearerToken:{get:function(){return this.$store.state.request.bearerToken},set:function(e){this.$store.commit("setState",{value:e,attribute:"bearerToken"})}},headers:{get:function(){return this.$store.state.request.headers},set:function(e){this.$store.commit("setState",{value:e,attribute:"headers"})}},params:{get:function(){return this.$store.state.request.params},set:function(e){this.$store.commit("setState",{value:e,attribute:"params"})}},bodyParams:{get:function(){return this.$store.state.request.bodyParams},set:function(e){this.$store.commit("setState",{value:e,attribute:"bodyParams"})}},rawParams:{get:function(){return this.$store.state.request.rawParams},set:function(e){this.$store.commit("setState",{value:e,attribute:"rawParams"})}},rawInput:{get:function(){return this.$store.state.request.rawInput},set:function(e){this.$store.commit("setState",{value:e,attribute:"rawInput"})}},requestType:{get:function(){return this.$store.state.request.requestType},set:function(e){this.$store.commit("setState",{value:e,attribute:"requestType"})}},contentType:{get:function(){return this.$store.state.request.contentType},set:function(e){this.$store.commit("setState",{value:e,attribute:"contentType"})}},passwordFieldType:{get:function(){return this.$store.state.request.passwordFieldType},set:function(e){this.$store.commit("setState",{value:e,attribute:"passwordFieldType"})}},selectedRequest:function(){return this.$store.state.postwoman.selectedRequest},editingRequest:function(){return this.$store.state.postwoman.editingRequest},requestName:function(){return this.label},statusCategory:function(){return k(this.response.status)},isValidURL:function(){if(this.showPreRequestScript)return!0;var e=new RegExp("^(https?:\\/\\/)?(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"),t=new RegExp("^(https?:\\/\\/)?(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9/])$");return e.test(this.url)||t.test(this.url)},hasRequestBody:function(){return["POST","PUT","PATCH"].includes(this.method)},pathName:function(){return this.path.match(/^([^?]*)\??/)[1]},rawRequestBody:function(){var e=this.bodyParams;if("application/json"!==this.contentType)return e.filter((function(e){return!!e.key})).map((function(e){var t=e.key,r=e.value;return"".concat(t,"=").concat(encodeURIComponent(r))})).join("&");try{var t=JSON.parse("{".concat(e.filter((function(e){return!!e.key})).map((function(e){var t=e.key,r=e.value;return'\n              "'.concat(t,'": "').concat(r,'"\n              ')})).join(),"}"));return JSON.stringify(t)}catch(e){return"invalid"}},headerString:function(){var e=this.headers.filter((function(e){return!!e.key})).map((function(e){var t=e.key,r=e.value;return"".concat(t,": ").concat(r)})).join(",\n");return""===e?"":"".concat(e)},queryString:function(){var e=this.params.filter((function(e){return!!e.key})).map((function(e){var t=e.key,r=e.value;return"".concat(t,"=").concat(encodeURIComponent(r))})).join("&");return""===e?"":"?".concat(e)},responseType:function(){return(this.response.headers["content-type"]||"").split(";")[0].toLowerCase()},requestCode:function(){if("JavaScript XHR"===this.requestType){var e=[];e.push("const xhr = new XMLHttpRequest()");var t="Basic"===this.auth?"'"+this.httpUser+"'":null,r="Basic"===this.auth?"'"+this.httpPassword+"'":null;if(e.push("xhr.open('"+this.method+"', '"+this.url+this.pathName+this.queryString+"', true, "+t+", "+r+")"),"Bearer Token"===this.auth&&e.push("xhr.setRequestHeader('Authorization', 'Bearer "+this.bearerToken+"')"),this.headers&&this.headers.forEach((function(element){e.push("xhr.setRequestHeader('"+element.key+"', '"+element.value+"')")})),["POST","PUT","PATCH"].includes(this.method)){var o=this.rawInput?this.rawParams:this.rawRequestBody;e.push("xhr.setRequestHeader('Content-Length', "+o.length+")"),e.push("xhr.setRequestHeader('Content-Type', '"+this.contentType+"; charset=utf-8')"),e.push("xhr.send("+o+")")}else e.push("xhr.send()");return e.join("\n")}if("Fetch"==this.requestType){var n=[],l=[];if(n.push('fetch("'+this.url+this.pathName+this.queryString+'", {\n'),n.push('  method: "'+this.method+'",\n'),"Basic"===this.auth){var c=this.httpUser+":"+this.httpPassword;l.push('    "Authorization": "Basic '+window.btoa(unescape(encodeURIComponent(c)))+'",\n')}else"Bearer Token"===this.auth&&l.push('    "Authorization": "Bearer '+this.bearerToken+'",\n');if(["POST","PUT","PATCH"].includes(this.method)){var d=this.rawInput?this.rawParams:this.rawRequestBody;n.push("  body: "+d+",\n"),l.push('    "Content-Length": '+d.length+",\n"),l.push('    "Content-Type": "'+this.contentType+'; charset=utf-8",\n')}return this.headers&&this.headers.forEach((function(element){l.push('    "'+element.key+'": "'+element.value+'",\n')})),l=l.join("").slice(0,-2),n.push("  headers: {\n"+l+"\n  },\n"),n.push('  credentials: "same-origin"\n'),n.push("}).then(function(response) {\n"),n.push("  response.status\n"),n.push("  response.statusText\n"),n.push("  response.headers\n"),n.push("  response.url\n\n"),n.push("  return response.text()\n"),n.push("}).catch(function(error) {\n"),n.push("  error.message\n"),n.push("})"),n.join("")}if("cURL"===this.requestType){var h=[];if(h.push("curl -X "+this.method+" \\\n"),h.push("  '"+this.url+this.pathName+this.queryString+"' \\\n"),"Basic"===this.auth){var m=this.httpUser+":"+this.httpPassword;h.push("  -H 'Authorization: Basic "+window.btoa(unescape(encodeURIComponent(m)))+"' \\\n")}else"Bearer Token"===this.auth&&h.push("  -H 'Authorization: Bearer "+this.bearerToken+"' \\\n");if(this.headers&&this.headers.forEach((function(element){h.push("  -H '"+element.key+": "+element.value+"' \\\n")})),["POST","PUT","PATCH"].includes(this.method)){var v=this.rawInput?this.rawParams:this.rawRequestBody;h.push("  -H 'Content-Length: "+v.length+"' \\\n"),h.push("  -H 'Content-Type: "+this.contentType+"; charset=utf-8' \\\n"),h.push("  -d '"+v+"' \\\n")}return h.join("").slice(0,-3)}}},methods:{scrollInto:function(view){this.$refs[view].$el.scrollIntoView({behavior:"smooth"})},handleUseHistory:function(e){var label=e.label,t=e.method,r=e.url,path=e.path,o=e.usesScripts,n=e.preRequestScript;this.label=label,this.method=t,this.url=r,this.path=path,this.showPreRequestScript=o,this.preRequestScript=n,this.scrollInto("request")},getVariablesFromPreRequestScript:function(){return this.preRequestScript?_(this.preRequestScript):{}},makeRequest:(C=Object(l.a)(regeneratorRuntime.mark((function e(t,r,o,n){var l,c,d,h,m,v,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={method:this.method,url:this.url+this.pathName+this.queryString,auth:t,headers:r,data:o?o.toString():null},n)for(d in c=_(n),l.url=R(l.url,c),l.data=R(l.data,c),l.headers)h=R(d,c),m=R(l.headers[d],c),delete l.headers[d],l.headers[h]=m;return"string"==typeof l.data&&(l.data=R(l.data)),v=this.$store.state.postwoman.settings.PROXY_ENABLED?{method:"POST",url:this.$store.state.postwoman.settings.PROXY_URL||"https://postwoman.apollotv.xyz/",data:l}:l,e.next=6,this.$axios(v);case 6:return f=e.sent,e.abrupt("return",this.$store.state.postwoman.settings.PROXY_ENABLED?f.data:f);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r,o){return C.apply(this,arguments)}),sendRequest:(P=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,o,n,l,c,d,h,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$toast.clear(),this.scrollInto("response"),this.isValidURL){e.next=5;break}return this.$toast.error("错误的URL格式",{icon:"error"}),e.abrupt("return");case 5:return this.$nuxt.$loading.start(),this.$refs.response.$el.classList.contains("hidden")&&this.$refs.response.$el.classList.toggle("hidden"),this.previewEnabled=!1,this.response.status="Fetching...",this.response.body="Loading...",t="Basic"===this.auth?{username:this.httpUser,password:this.httpPassword}:null,r={},o={},Object.keys(r).forEach((function(e){o[r[e].key]=r[e].value})),r=o,this.hasRequestBody&&(n=this.rawInput?this.rawParams:this.rawRequestBody,Object.assign(r,{"Content-Type":"".concat(this.contentType,"; charset=utf-8")})),"Bearer Token"===this.auth&&(r.Authorization="Bearer ".concat(this.bearerToken)),r=Object.assign(Object.assign({},this.headers)),Object.keys(r).forEach((function(e){o[r[e].key]=r[e].value})),r=o,e.prev=20,l=Date.now(),e.next=24,this.makeRequest(t,r,n,this.showPreRequestScript&&this.preRequestScript);case 24:c=e.sent,d=Date.now()-l,this.$toast.info("完成时间 ".concat(d,"ms"),{icon:"done"}),function(){var e=m.response.status=c.status,t=(m.response.headers=c.headers,m.response.body=c.data,(new Date).toLocaleDateString()),time=(new Date).toLocaleTimeString(),r={label:m.requestName,status:e,date:t,time:time,method:m.method,url:m.url,path:m.path,usesScripts:Boolean(m.preRequestScript),preRequestScript:m.preRequestScript,duration:d,star:!1};m.$refs.historyComponent.addEntry(r)}(),e.next=46;break;case 30:if(e.prev=30,e.t0=e.catch(20),console.error(e.t0),!e.t0.response){e.next=42;break}return this.response.headers=e.t0.response.headers,this.response.status=e.t0.response.status,this.response.body=e.t0.response.data,h={label:this.requestName,status:this.response.status,date:(new Date).toLocaleDateString(),time:(new Date).toLocaleTimeString(),method:this.method,url:this.url,path:this.path,usesScripts:Boolean(this.preRequestScript),preRequestScript:this.preRequestScript},this.$refs.historyComponent.addEntry(h),e.abrupt("return");case 42:this.response.status=e.t0.message,this.response.body=e.t0+". 检查控制台详情.",this.$toast.error(e.t0+" (F12查看详情)",{icon:"error"}),this.$store.state.postwoman.settings.PROXY_ENABLED||this.$toast.info("尝试启用代理",{icon:"help",duration:8e3,action:{text:"Settings",onClick:function(e,t){m.$router.push({path:"/settings"})}}});case 46:case"end":return e.stop()}}),e,this,[[20,30]])}))),function(){return P.apply(this,arguments)}),getQueryStringFromPath:function(){var e=d.a.parse(this.path);return e.query?e.query:""},queryStringToArray:function(e){var t=m.a.parse(e);return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))},pathInputHandler:function(){var e=this.getQueryStringFromPath(),t=this.queryStringToArray(e);this.paramsWatchEnabled=!1,this.params=t},addRequestHeader:function(){return this.$store.commit("addHeaders",{key:"",value:""}),!1},removeRequestHeader:function(e){var t=this,r=this.headers.slice();this.$store.commit("removeHeaders",e),this.$toast.error("Deleted",{icon:"delete",action:{text:"Undo",onClick:function(e,o){t.headers=r,o.remove()}}})},addRequestParam:function(){return this.$store.commit("addParams",{key:"",value:""}),!1},removeRequestParam:function(e){var t=this,r=this.params.slice();this.$store.commit("removeParams",e),this.$toast.error("已删除",{icon:"delete",action:{text:"Undo",onClick:function(e,o){t.params=r,o.remove()}}})},addRequestBodyParam:function(){return this.$store.commit("addBodyParams",{key:"",value:""}),!1},removeRequestBodyParam:function(e){var t=this,r=this.bodyParams.slice();this.$store.commit("removeBodyParams",e),this.$toast.error("Deleted",{icon:"delete",action:{text:"Undo",onClick:function(e,o){t.bodyParams=r,o.remove()}}})},formatRawParams:function(e){if(13===e.which||9===e.which){var t=e.target.value,r=t.substring(0,e.target.selectionStart),o=t.substring(e.target.selectionEnd);if(13===e.which){e.preventDefault();var n=e.target.selectionStart,l=r.split("\n").slice(-1)[0].match(/([\s\t]*).*/)[1]||"";e.target.value=r+"\n"+l+o,setTimeout((function(){return e.target.selectionStart=e.target.selectionEnd=n+l.length+1}),1)}else if(9===e.which){e.preventDefault();var c=e.target.selectionStart;return e.target.value=r+"  "+o,e.target.selectionStart=e.target.selectionEnd=c+2,!1}}},copyRequest:function(){var e=this;if(navigator.share){var time=(new Date).toLocaleTimeString(),t=(new Date).toLocaleDateString();navigator.share({title:"Postwoman",text:"Postwoman • API请求构建在 ".concat(time," on ").concat(t),url:window.location.href}).then((function(){})).catch(console.error)}else{var r=document.createElement("input");document.body.appendChild(r),r.value=window.location.href,r.select(),document.execCommand("copy"),document.body.removeChild(r),this.$refs.copyRequest.innerHTML=this.doneButton,this.$toast.info("复制到剪贴板",{icon:"done"}),setTimeout((function(){return e.$refs.copyRequest.innerHTML=e.copyButton}),1e3)}},copyRequestCode:function(){var e=this;this.$refs.copyRequestCode.innerHTML=this.doneButton,this.$toast.success("复制到剪贴板",{icon:"done"}),this.$refs.generatedCode.select(),document.execCommand("copy"),setTimeout((function(){return e.$refs.copyRequestCode.innerHTML=e.copyButton}),1e3)},ToggleExpandResponse:function(){this.expandResponse=!this.expandResponse,this.responseBodyMaxLines=this.responseBodyMaxLines==1/0?16:1/0},copyResponse:function(){var e=this;this.$refs.copyResponse.innerHTML=this.doneButton,this.$toast.success("复制到剪贴板",{icon:"done"});var t=document.createElement("textarea"),r="application/json"==this.responseType?JSON.stringify(this.response.body):this.response.body;t.innerText=r,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),setTimeout((function(){return e.$refs.copyResponse.innerHTML=e.copyButton}),1e3)},downloadResponse:function(){var e=this,t=JSON.stringify(this.response.body,null,2),r=new Blob([t],{type:this.responseType}),a=document.createElement("a"),o=URL.createObjectURL(r);a.href=o,a.download=(this.url+this.path+" ["+this.method+"] on "+Date()).replace(/\./g,"[dot]"),document.body.appendChild(a),a.click(),this.$refs.downloadResponse.innerHTML=this.doneButton,this.$toast.success("开始下载",{icon:"done"}),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(o),e.$refs.downloadResponse.innerHTML=e.downloadButton}),1e3)},togglePreview:function(){if(this.previewEnabled=!this.previewEnabled,this.previewEnabled&&"text/html"===this.responseType){if(this.$refs.previewFrame.getAttribute("data-previewing-url")===this.url)return;var e=(new DOMParser).parseFromString(this.response.body,this.responseType);e.head.innerHTML='<base href="'.concat(this.url,'">')+e.head.innerHTML,this.$refs.previewFrame.srcdoc=e.documentElement.outerHTML,this.$refs.previewFrame.setAttribute("data-previewing-url",this.url)}},setRouteQueryState:function(){var e=this,t=function(t){return""!==e[t]?"".concat(t,"=").concat(e[t],"&"):""},r=function(t){return Object(n.a)(e[t]).length&&""!==e[t].value?"".concat(t,"=").concat(JSON.stringify(e[t]),"&"):""},o=["method","url","path",this.urlExcludes.auth?null:"auth",this.urlExcludes.httpUser?null:"httpUser",this.urlExcludes.httpPassword?null:"httpPassword",this.urlExcludes.bearerToken?null:"bearerToken","contentType"].filter((function(e){return null!==e})).map((function(e){return t(e)})),l=["headers","params"].map((function(e){return r(e)})),c=this.rawInput?[t("rawParams")]:[r("bodyParams")];this.$router.replace("/?"+o.concat(l,c).join("").slice(0,-1))},setRouteQueries:function(e){if("object"!==Object(o.a)(e))throw new Error("查询参数必须是一个对象");for(var t in e)["headers","params","bodyParams"].includes(t)&&(this[t]=JSON.parse(e[t])),"rawParams"===t?(this.rawInput=!0,this.rawParams=e.rawParams):"string"==typeof this[t]&&(this[t]=e[t])},observeRequestButton:function(){var e=this.$refs.request.$el,t=this.$refs.sendButton;new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting?t.classList.remove("show"):t.classList.add("show")}))}),{rootMargin:"0px",threshold:[0]}).observe(e)},handleImport:function(){var text=document.getElementById("import-text").value;try{var e=w(text);this.url=e.url.replace(/"/g,"").replace(/'/g,""),this.url="/"==this.url.slice(-1).pop()?this.url.slice(0,-1):this.url,this.path="",this.headers=[];for(var t=0,r=Object.keys(e.headers);t<r.length;t++){var o=r[t];this.$store.commit("addHeaders",{key:o,value:e.headers[o]})}this.method=e.method.toUpperCase(),e.data&&(this.rawInput=!0,this.rawParams=e.data),this.showModal=!1}catch(e){this.showModal=!1,this.$toast.error("cURL格式化错误",{icon:"error"})}},switchVisibility:function(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"},clearContent:function(e,t){switch(e){case"auth":this.auth="None",this.httpUser="",this.httpPassword="",this.bearerToken="";break;case"headers":this.headers=[];break;case"parameters":this.params=[];break;default:this.label="",this.method="GET",this.url="https://reqres.in",this.auth="None",this.path="/api/users",this.auth="None",this.httpUser="",this.httpPassword="",this.bearerToken="",this.headers=[],this.params=[],this.bodyParams=[],this.rawParams=""}t.target.innerHTML=this.doneButton,this.$toast.info("Cleared",{icon:"clear_all"}),setTimeout((function(){return t.target.innerHTML='<i class="material-icons">clear_all</i>'}),1e3)},saveRequest:function(){this.editRequest={url:this.url,path:this.path,method:this.method,auth:this.auth,httpUser:this.httpUser,httpPassword:this.httpPassword,passwordFieldType:this.passwordFieldType,bearerToken:this.bearerToken,headers:this.headers,params:this.params,bodyParams:this.bodyParams,rawParams:this.rawParams,rawInput:this.rawInput,contentType:this.contentType,requestType:this.requestType},this.selectedRequest.url&&(this.editRequest=Object.assign({},this.selectedRequest,this.editRequest)),this.showRequestModal=!0},hideRequestModal:function(){this.showRequestModal=!1,this.editRequest={}},setExclude:function(e,t){"auth"===e?(this.urlExcludes.auth=t,this.urlExcludes.httpUser=t,this.urlExcludes.httpPassword=t,this.urlExcludes.bearerToken=t):this.urlExcludes[e]=t,this.setRouteQueryState()},methodChange:function(){this.contentType=["POST","PUT","PATCH"].includes(this.method)?"application/json":""},uploadPayload:function(){var e=this;this.rawInput=!0;var t=this.$refs.payload.files[0];if(null!==t){var r=new FileReader;r.onload=function(t){e.rawParams=t.target.result},r.readAsText(t),this.$toast.info("文件导入",{icon:"attach_file"})}else this.$toast.error("选择一个文件",{icon:"attach_file"})}},mounted:function(){this.observeRequestButton(),this._keyListener=function(e){"g"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),this.sendRequest()):"s"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),this.saveRequest()):"k"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),this.copyRequest()):"l"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.$refs.clearAll.click())},document.addEventListener("keydown",this._keyListener.bind(this))},created:function(){var e=this;this.urlExcludes=this.$store.state.postwoman.settings.URL_EXCLUDES||{auth:!0,httpUser:!0,httpPassword:!0,bearerToken:!0},Object.keys(this.$route.query).length&&this.setRouteQueries(this.$route.query),this.$watch((function(e){return[e.label,e.method,e.url,e.auth,e.path,e.httpUser,e.httpPassword,e.bearerToken,e.headers,e.params,e.bodyParams,e.contentType,e.rawParams]}),(function(t){e.setRouteQueryState()}))},beforeDestroy:function(){document.removeEventListener("keydown",this._keyListener)}},$=r(33);r.d(t,"findStatusGroup",(function(){return k}));var component=Object($.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"content"},[r("div",{staticClass:"page-columns inner-left"},[e.showPreRequestScript?r("pw-section",{ref:"preRequest",staticClass:"orange",attrs:{label:"Pre-Request"}},[r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"generatedCode"}},[e._v("JavaScript Code")]),e._v(" "),r("div",[r("a",{attrs:{href:"https://github.com/liyasthomas/postwoman/wiki/Pre-Request-Scripts",target:"_blank",rel:"noopener"}},[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Wiki",expression:"'Wiki'"}],staticClass:"icon"},[r("i",{staticClass:"material-icons"},[e._v("help")])])])])]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.preRequestScript,expression:"preRequestScript"}],attrs:{id:"preRequestScript",rows:"8",spellcheck:"false",placeholder:"pw.env.set('variable', 'value');"},domProps:{value:e.preRequestScript},on:{keydown:e.formatRawParams,input:function(t){t.target.composing||(e.preRequestScript=t.target.value)}}})])])]):e._e(),e._v(" "),r("pw-section",{ref:"request",staticClass:"blue",attrs:{label:"请求"}},[r("ul",[r("li",[r("label",{attrs:{for:"method"}},[e._v("方法")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.method,expression:"method"}],attrs:{id:"method"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.method=t.target.multiple?r:r[0]},e.methodChange]}},[r("option",[e._v("GET")]),e._v(" "),r("option",[e._v("HEAD")]),e._v(" "),r("option",[e._v("POST")]),e._v(" "),r("option",[e._v("PUT")]),e._v(" "),r("option",[e._v("DELETE")]),e._v(" "),r("option",[e._v("OPTIONS")]),e._v(" "),r("option",[e._v("PATCH")])])]),e._v(" "),r("li",[r("label",{attrs:{for:"url"}},[e._v("URL")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],class:{error:!e.isValidURL},attrs:{id:"url",name:"url",type:"url"},domProps:{value:e.url},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isValidURL&&e.sendRequest()},input:function(t){t.target.composing||(e.url=t.target.value)}}})]),e._v(" "),r("li",[r("label",{attrs:{for:"path"}},[e._v("路径")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.path,expression:"path"}],attrs:{id:"path",name:"path"},domProps:{value:e.path},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isValidURL&&e.sendRequest()},input:[function(t){t.target.composing||(e.path=t.target.value)},e.pathInputHandler]}})]),e._v(" "),r("li",[r("label",{attrs:{for:"label"}},[e._v("标签")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"label"}],attrs:{id:"label",name:"label",type:"text",placeholder:"(选项)",list:"preLabels"},domProps:{value:e.label},on:{input:function(t){t.target.composing||(e.label=t.target.value)}}}),e._v(" "),r("datalist",{attrs:{id:"preLabels"}},[r("option",{attrs:{value:"Login"}}),e._v(" "),r("option",{attrs:{value:"Logout"}}),e._v(" "),r("option",{attrs:{value:"Bug"}}),e._v(" "),r("option",{attrs:{value:"Users"}})])]),e._v(" "),r("ul",[r("li",[r("label",{staticClass:"hide-on-small-screen",attrs:{for:"send"}},[e._v(" ")]),e._v(" "),r("button",{ref:"sendButton",attrs:{disabled:!e.isValidURL,id:"send"},on:{click:e.sendRequest}},[e._v("\n                "+e._s(e.$t("发送"))+"\n                "),r("span",{attrs:{id:"hidden-message"}},[e._v("重复")]),e._v(" "),r("span",[r("i",{staticClass:"material-icons"},[e._v("send")])])])])])]),e._v(" "),["POST","PUT","PATCH"].includes(e.method)?r("div",{staticClass:"blue",attrs:{label:"Request Body"}},[r("ul",[r("li",[r("label",{attrs:{for:"contentType"}},[e._v("Content Type")]),e._v(" "),r("autocomplete",{attrs:{source:e.validContentTypes,spellcheck:!1},model:{value:e.contentType,callback:function(t){e.contentType=t},expression:"contentType"}},[e._v("Content Type")])],1)]),e._v(" "),r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("span",[r("pw-toggle",{attrs:{on:e.rawInput},on:{change:function(t){e.rawInput=t}}},[e._v("Raw输入\n                    "+e._s(e.rawInput?"开启":"关闭"))])],1),e._v(" "),r("div",[r("label",{attrs:{for:"payload"}},[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"上传文件",expression:"'上传文件'"}],staticClass:"icon",on:{click:function(t){return e.$refs.payload.click()}}},[r("i",{staticClass:"material-icons"},[e._v("attach_file")])])]),e._v(" "),r("input",{ref:"payload",attrs:{name:"payload",type:"file"},on:{change:e.uploadPayload}})])])])]),e._v(" "),e.rawInput?r("div",[r("ul",[r("li",[r("label",{attrs:{for:"rawBody"}},[e._v("Raw请求body")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.rawParams,expression:"rawParams"}],attrs:{id:"rawBody",rows:"8"},domProps:{value:e.rawParams},on:{keydown:e.formatRawParams,input:function(t){t.target.composing||(e.rawParams=t.target.value)}}})])])]):r("div",[r("ul",[r("li",[r("label",{attrs:{for:"reqParamList"}},[e._v("参数列表")]),e._v(" "),r("textarea",{directives:[{name:"textarea-auto-height",rawName:"v-textarea-auto-height",value:e.rawRequestBody,expression:"rawRequestBody"},{name:"model",rawName:"v-model",value:e.rawRequestBody,expression:"rawRequestBody"}],attrs:{id:"reqParamList",readonly:"",placeholder:"(至少添加一个参数)",rows:"1"},domProps:{value:e.rawRequestBody},on:{input:function(t){t.target.composing||(e.rawRequestBody=t.target.value)}}})])]),e._v(" "),e._l(e.bodyParams,(function(param,t){return r("ul",{key:t},[r("li",[r("input",{attrs:{placeholder:"key "+(t+1),name:"bparam"+t,autofocus:""},domProps:{value:param.key},on:{change:function(r){return e.$store.commit("setKeyBodyParams",{index:t,value:r.target.value})},keyup:function(t){return t.preventDefault(),e.setRouteQueryState(t)}}})]),e._v(" "),r("li",[r("input",{attrs:{placeholder:"value "+(t+1),id:"bvalue"+t,name:"bvalue"+t},domProps:{value:param.value},on:{change:function(r){return e.$store.commit("setValueBodyParams",{index:t,value:r.target.value})},keyup:function(t){return t.preventDefault(),e.setRouteQueryState(t)}}})]),e._v(" "),r("div",[r("li",[r("button",{staticClass:"icon",attrs:{id:"delParam"},on:{click:function(r){return e.removeRequestBodyParam(t)}}},[r("i",{staticClass:"material-icons"},[e._v("delete")])])])])])})),e._v(" "),r("ul",[r("li",[r("button",{staticClass:"icon",attrs:{name:"addrequest"},on:{click:e.addRequestBodyParam}},[r("i",{staticClass:"material-icons"},[e._v("add")]),e._v(" "),r("span",[e._v("添加")])])])])],2)]):e._e(),e._v(" "),r("div",{staticClass:"flex-wrap"},[r("div",{staticStyle:{"text-align":"center"}},[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"导入 cURL",expression:"'导入 cURL'",modifiers:{bottom:!0}}],staticClass:"icon",attrs:{id:"show-modal"},on:{click:function(t){e.showModal=!0}}},[r("i",{staticClass:"material-icons"},[e._v("import_export")])]),e._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{content:e.isHidden?"显示代码":"隐藏代码"},expression:"{\n                content: isHidden ? '显示代码' : '隐藏代码'\n              }",modifiers:{bottom:!0}}],staticClass:"icon",attrs:{id:"code",disabled:!e.isValidURL},on:{click:function(t){e.isHidden=!e.isHidden}}},[r("i",{staticClass:"material-icons"},[e._v("flash_on")])]),e._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{content:e.showPreRequestScript?"隐藏Pre-Request脚本":"显示Pre-Request脚本"},expression:"{\n                content: !showPreRequestScript\n                  ? '显示Pre-Request脚本'\n                  : '隐藏Pre-Request脚本'\n              }",modifiers:{bottom:!0}}],class:"icon"+(e.showPreRequestScript?" info-response":""),attrs:{id:"preRequestScriptButton"},on:{click:function(t){e.showPreRequestScript=!e.showPreRequestScript}}},[e.showPreRequestScript?r("i",{staticClass:"material-icons",class:e.showPreRequestScript},[e._v("close")]):r("i",{staticClass:"material-icons",class:e.showPreRequestScript},[e._v("code")])])]),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"复制请求URL",expression:"'复制请求URL'",modifiers:{bottom:!0}}],ref:"copyRequest",staticClass:"icon",attrs:{id:"copyRequest",disabled:!e.isValidURL},on:{click:e.copyRequest}},[r("i",{staticClass:"material-icons"},[e._v("file_copy")])]),e._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"保存到集合",expression:"'保存到集合'",modifiers:{bottom:!0}}],ref:"saveRequest",staticClass:"icon",attrs:{id:"saveRequest",disabled:!e.isValidURL},on:{click:e.saveRequest}},[r("i",{staticClass:"material-icons"},[e._v("save")])]),e._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"全部清除",expression:"'全部清除'",modifiers:{bottom:!0}}],ref:"clearAll",staticClass:"icon",on:{click:function(t){return e.clearContent("",t)}}},[r("i",{staticClass:"material-icons"},[e._v("clear_all")])])])])]),e._v(" "),r("section",{attrs:{id:"options"}},[r("input",{attrs:{id:"tab-one",type:"radio",name:"options",checked:"checked"}}),e._v(" "),r("label",{attrs:{for:"tab-one"}},[e._v("身份认证")]),e._v(" "),r("div",{staticClass:"tab"},[r("pw-section",{ref:"authentication",staticClass:"cyan",attrs:{label:"身份认证"}},[r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"auth"}},[e._v("认证类型")]),e._v(" "),r("div",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"Clear",expression:"'Clear'",modifiers:{bottom:!0}}],staticClass:"icon",on:{click:function(t){return e.clearContent("auth",t)}}},[r("i",{staticClass:"material-icons"},[e._v("clear_all")])])])]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.auth,expression:"auth"}],attrs:{id:"auth"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.auth=t.target.multiple?r:r[0]}}},[r("option",[e._v("None")]),e._v(" "),r("option",[e._v("Basic")]),e._v(" "),r("option",[e._v("Bearer Token")])])])]),e._v(" "),"Basic"===e.auth?r("ul",[r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.httpUser,expression:"httpUser"}],attrs:{placeholder:"User",name:"http_basic_user"},domProps:{value:e.httpUser},on:{input:function(t){t.target.composing||(e.httpUser=t.target.value)}}})]),e._v(" "),r("li",["checkbox"===e.passwordFieldType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.httpPassword,expression:"httpPassword"}],attrs:{placeholder:"Password",name:"http_basic_passwd",type:"checkbox"},domProps:{checked:Array.isArray(e.httpPassword)?e._i(e.httpPassword,null)>-1:e.httpPassword},on:{change:function(t){var r=e.httpPassword,o=t.target,n=!!o.checked;if(Array.isArray(r)){var l=e._i(r,null);o.checked?l<0&&(e.httpPassword=r.concat([null])):l>-1&&(e.httpPassword=r.slice(0,l).concat(r.slice(l+1)))}else e.httpPassword=n}}}):"radio"===e.passwordFieldType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.httpPassword,expression:"httpPassword"}],attrs:{placeholder:"Password",name:"http_basic_passwd",type:"radio"},domProps:{checked:e._q(e.httpPassword,null)},on:{change:function(t){e.httpPassword=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.httpPassword,expression:"httpPassword"}],attrs:{placeholder:"Password",name:"http_basic_passwd",type:e.passwordFieldType},domProps:{value:e.httpPassword},on:{input:function(t){t.target.composing||(e.httpPassword=t.target.value)}}})]),e._v(" "),r("div",[r("li",[r("button",{ref:"switchVisibility",staticClass:"icon",attrs:{id:"switchVisibility"},on:{click:e.switchVisibility}},["text"===e.passwordFieldType?r("i",{staticClass:"material-icons"},[e._v("visibility")]):e._e(),e._v(" "),"text"!==e.passwordFieldType?r("i",{staticClass:"material-icons"},[e._v("visibility_off")]):e._e()])])])]):"Bearer Token"===e.auth?r("ul",[r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.bearerToken,expression:"bearerToken"}],attrs:{placeholder:"Token",name:"bearer_token"},domProps:{value:e.bearerToken},on:{input:function(t){t.target.composing||(e.bearerToken=t.target.value)}}})])]):e._e(),e._v(" "),r("div",{staticClass:"flex-wrap"},[r("pw-toggle",{attrs:{on:!e.urlExcludes.auth},on:{change:function(t){return e.setExclude("auth",!t)}}},[e._v("在URL中是否包含")])],1)])],1),e._v(" "),r("input",{attrs:{id:"tab-two",type:"radio",name:"options"}}),e._v(" "),r("label",{attrs:{for:"tab-two"}},[e._v("请求头")]),e._v(" "),r("div",{staticClass:"tab"},[r("pw-section",{ref:"headers",staticClass:"orange",attrs:{label:"请求头"}},[r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"headerList"}},[e._v("列表")]),e._v(" "),r("div",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"清除",expression:"'清除'",modifiers:{bottom:!0}}],staticClass:"icon",on:{click:function(t){return e.clearContent("headers",t)}}},[r("i",{staticClass:"material-icons"},[e._v("clear_all")])])])]),e._v(" "),r("textarea",{directives:[{name:"textarea-auto-height",rawName:"v-textarea-auto-height",value:e.headerString,expression:"headerString"},{name:"model",rawName:"v-model",value:e.headerString,expression:"headerString"}],attrs:{id:"headerList",readonly:"",placeholder:"(至少添加一个请求头)",rows:"1"},domProps:{value:e.headerString},on:{input:function(t){t.target.composing||(e.headerString=t.target.value)}}})])]),e._v(" "),e._l(e.headers,(function(header,t){return r("ul",{key:t},[r("li",[r("input",{attrs:{placeholder:"header "+(t+1),name:"header"+t,autofocus:""},domProps:{value:header.key},on:{change:function(r){return e.$store.commit("setKeyHeader",{index:t,value:r.target.value})},keyup:function(t){return t.preventDefault(),e.setRouteQueryState(t)}}})]),e._v(" "),r("li",[r("input",{attrs:{placeholder:"value "+(t+1),name:"value"+t},domProps:{value:header.value},on:{change:function(r){return e.$store.commit("setValueHeader",{index:t,value:r.target.value})},keyup:function(t){return t.preventDefault(),e.setRouteQueryState(t)}}})]),e._v(" "),r("div",[r("li",[r("button",{staticClass:"icon",attrs:{id:"header"},on:{click:function(r){return e.removeRequestHeader(t)}}},[r("i",{staticClass:"material-icons"},[e._v("delete")])])])])])})),e._v(" "),r("ul",[r("li",[r("button",{staticClass:"icon",on:{click:e.addRequestHeader}},[r("i",{staticClass:"material-icons"},[e._v("add")]),e._v(" "),r("span",[e._v("添加")])])])])],2)],1),e._v(" "),r("input",{attrs:{id:"tab-three",type:"radio",name:"options"}}),e._v(" "),r("label",{attrs:{for:"tab-three"}},[e._v("参数")]),e._v(" "),r("div",{staticClass:"tab"},[r("pw-section",{ref:"parameters",staticClass:"pink",attrs:{label:"参数"}},[r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"paramList"}},[e._v("参数列表")]),e._v(" "),r("div",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:"清除",expression:"'清除'",modifiers:{bottom:!0}}],staticClass:"icon",on:{click:function(t){return e.clearContent("parameters",t)}}},[r("i",{staticClass:"material-icons"},[e._v("clear_all")])])])]),e._v(" "),r("textarea",{directives:[{name:"textarea-auto-height",rawName:"v-textarea-auto-height",value:e.queryString,expression:"queryString"},{name:"model",rawName:"v-model",value:e.queryString,expression:"queryString"}],attrs:{id:"paramList",readonly:"",placeholder:"(至少添加一个参数)",rows:"1"},domProps:{value:e.queryString},on:{input:function(t){t.target.composing||(e.queryString=t.target.value)}}})])]),e._v(" "),e._l(e.params,(function(param,t){return r("ul",{key:t},[r("li",[r("input",{attrs:{placeholder:"parameter "+(t+1),name:"param"+t,autofocus:""},domProps:{value:param.key},on:{change:function(r){return e.$store.commit("setKeyParams",{index:t,value:r.target.value})}}})]),e._v(" "),r("li",[r("input",{attrs:{placeholder:"value "+(t+1),name:"value"+t},domProps:{value:param.value},on:{change:function(r){return e.$store.commit("setValueParams",{index:t,value:r.target.value})}}})]),e._v(" "),r("div",[r("li",[r("button",{staticClass:"icon",attrs:{id:"param"},on:{click:function(r){return e.removeRequestParam(t)}}},[r("i",{staticClass:"material-icons"},[e._v("delete")])])])])])})),e._v(" "),r("ul",[r("li",[r("button",{staticClass:"icon",on:{click:e.addRequestParam}},[r("i",{staticClass:"material-icons"},[e._v("add")]),e._v(" "),r("span",[e._v("添加")])])])])],2)],1)]),e._v(" "),r("pw-section",{ref:"response",staticClass:"purple",attrs:{id:"response",label:"响应"}},[r("ul",[r("li",[r("label",{attrs:{for:"status"}},[e._v("状态")]),e._v(" "),r("input",{ref:"status",class:e.statusCategory?e.statusCategory.className:"",attrs:{id:"status",name:"status",readonly:"",type:"text"},domProps:{value:e.response.status||"(等待发送请求)"}})])]),e._v(" "),e._l(e.response.headers,(function(t,o){return r("ul",{key:o},[r("li",[r("label",{attrs:{for:o}},[e._v(e._s(o))]),e._v(" "),r("input",{attrs:{id:o,name:o,readonly:""},domProps:{value:t}})])])})),e._v(" "),e.response.body?r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"body"}},[e._v("响应")]),e._v(" "),r("div",[e.response.body?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.expandResponse?"折叠响应":"展开响应"},expression:"{\n                    content: !expandResponse\n                      ? '展开响应'\n                      : '折叠响应'\n                  }"}],ref:"ToggleExpandResponse",staticClass:"icon",on:{click:e.ToggleExpandResponse}},[e.expandResponse?r("i",{staticClass:"material-icons"},[e._v("unfold_less")]):r("i",{staticClass:"material-icons"},[e._v("unfold_more")])]):e._e(),e._v(" "),e.response.body?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"下载文件",expression:"'下载文件'"}],ref:"downloadResponse",staticClass:"icon",on:{click:e.downloadResponse}},[r("i",{staticClass:"material-icons"},[e._v("get_app")])]):e._e(),e._v(" "),e.response.body?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"复制响应",expression:"'复制响应'"}],ref:"copyResponse",staticClass:"icon",on:{click:e.copyResponse}},[r("i",{staticClass:"material-icons"},[e._v("file_copy")])]):e._e()])]),e._v(" "),r("div",{attrs:{id:"response-details-wrapper"}},[r("ResponseBody",{attrs:{value:e.responseBodyText,lang:e.responseBodyType,options:{maxLines:e.responseBodyMaxLines,minLines:"16",fontSize:"16px",autoScrollEditorIntoView:!0,readOnly:!0,showPrintMargin:!1,useWorker:!1}}}),e._v(" "),r("iframe",{ref:"previewFrame",staticClass:"covers-response",class:{hidden:!e.previewEnabled},attrs:{src:"about:blank"}})],1),e._v(" "),e.response.body&&"text/html"===e.responseType?r("div",{staticClass:"align-right"},[r("button",{staticClass:"icon",on:{click:function(t){return t.preventDefault(),e.togglePreview(t)}}},[e.previewEnabled?r("i",{staticClass:"material-icons"},[e._v("visibility_off")]):r("i",{staticClass:"material-icons"},[e._v("visibility")]),e._v(" "),r("span",[e._v(e._s(e.previewEnabled?"隐藏预览":"预览HTML"))])])]):e._e()])]):e._e()],2)],1),e._v(" "),r("aside",{staticClass:"sticky-inner inner-right"},[r("section",[r("input",{attrs:{id:"history-tab",type:"radio",name:"side",checked:"checked"}}),e._v(" "),r("label",{attrs:{for:"history-tab"}},[e._v("历史记录")]),e._v(" "),r("div",{staticClass:"tab"},[r("history",{ref:"historyComponent",on:{useHistory:e.handleUseHistory}})],1),e._v(" "),r("input",{attrs:{id:"collection-tab",type:"radio",name:"side"}}),e._v(" "),r("label",{attrs:{for:"collection-tab"}},[e._v("集合")]),e._v(" "),r("div",{staticClass:"tab"},[r("pw-section",{ref:"collections",staticClass:"yellow",attrs:{label:"集合"}},[r("collections")],1)],1)])]),e._v(" "),r("save-request-as",{attrs:{show:e.showRequestModal,"editing-request":e.editRequest},on:{"hide-model":e.hideRequestModal}}),e._v(" "),e.showModal?r("pw-modal",{on:{close:function(t){e.showModal=!1}}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("h3",{staticClass:"title"},[e._v("导入 cURL")]),e._v(" "),r("div",[r("button",{staticClass:"icon",on:{click:function(t){e.showModal=!1}}},[r("i",{staticClass:"material-icons"},[e._v("close")])])])])])])]),e._v(" "),r("div",{attrs:{slot:"body"},slot:"body"},[r("ul",[r("li",[r("textarea",{attrs:{id:"import-text",autofocus:"",rows:"8",placeholder:"输入 cURL"}})])])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("ul",[r("li",[r("button",{staticClass:"icon",on:{click:e.handleImport}},[r("i",{staticClass:"material-icons"},[e._v("get_app")]),e._v(" "),r("span",[e._v("导入")])])])])])]):e._e(),e._v(" "),e.isHidden?e._e():r("pw-modal",{on:{close:function(t){e.isHidden=!0}}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("h3",{staticClass:"title"},[e._v("生成代码")]),e._v(" "),r("div",[r("button",{staticClass:"icon",on:{click:function(t){e.isHidden=!0}}},[r("i",{staticClass:"material-icons"},[e._v("close")])])])])])])]),e._v(" "),r("div",{attrs:{slot:"body"},slot:"body"},[r("ul",[r("li",[r("label",{attrs:{for:"requestType"}},[e._v("请求类型")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.requestType,expression:"requestType"}],attrs:{id:"requestType"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.requestType=t.target.multiple?r:r[0]}}},[r("option",[e._v("JavaScript XHR")]),e._v(" "),r("option",[e._v("Fetch")]),e._v(" "),r("option",[e._v("cURL")])])])]),e._v(" "),r("ul",[r("li",[r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"generatedCode"}},[e._v("生成代码")]),e._v(" "),r("div",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"复制代码",expression:"'复制代码'"}],ref:"copyRequestCode",staticClass:"icon",attrs:{id:"copyRequestCode"},on:{click:e.copyRequestCode}},[r("i",{staticClass:"material-icons"},[e._v("file_copy")])])])]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.requestCode,expression:"requestCode"}],ref:"generatedCode",attrs:{id:"generatedCode",name:"generatedCode",rows:"8"},domProps:{value:e.requestCode},on:{input:function(t){t.target.composing||(e.requestCode=t.target.value)}}})])])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"})])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);