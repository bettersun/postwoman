(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{250:function(t,e,r){var content=r(699);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(43).default)("2ea5a102",content,!0,{sourceMap:!1})},698:function(t,e,r){"use strict";var o=r(250);r.n(o).a},699:function(t,e,r){(t.exports=r(42)(!1)).push([t.i,".virtual-list[data-v-6daf80ae]{max-height:calc(100vh - 284px)}.virtual-list [readonly][data-v-6daf80ae]{cursor:default}.smooth-enter-active[data-v-6daf80ae],.smooth-leave-active[data-v-6daf80ae]{-webkit-transition:all .2s;transition:all .2s}.smooth-enter[data-v-6daf80ae],.smooth-leave-to[data-v-6daf80ae]{opacity:0}.stared[data-v-6daf80ae]{color:#f8e81c!important}ol[data-v-6daf80ae],ul[data-v-6daf80ae]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}ol li[data-v-6daf80ae],ul li[data-v-6daf80ae]{display:-webkit-box;display:flex}.method-list-item[data-v-6daf80ae]{position:relative}.method-list-item span[data-v-6daf80ae]{position:absolute;top:10px;right:10px;font-family:Roboto Mono,monospace;background-color:var(--bg-color);padding:2px 6px;border-radius:8px}.entry[data-v-6daf80ae]{border-bottom:1px solid var(--brd-color);padding:16px 0}@media (max-width:720px){.virtual-list.filled[data-v-6daf80ae]{min-height:320px}.labels[data-v-6daf80ae]{display:none}}",""])},727:function(t,e,r){"use strict";r.r(e);r(45),r(34),r(56),r(89),r(90),r(10),r(7),r(21);var o=r(712),l=function(t,e){return window.localStorage.setItem(t,JSON.stringify(e))},n={components:{"pw-section":function(){return Promise.resolve().then(r.bind(null,263))},VirtualList:function(){return r.e(12).then(r.t.bind(null,716,7))}},data:function(){return{history:JSON.parse(window.localStorage.getItem("history"))||[],filterText:"",showFilter:!1,isClearingHistory:!1,reverse_sort_label:!1,reverse_sort_time:!1,reverse_sort_status_code:!1,reverse_sort_url:!1,reverse_sort_path:!1,showMore:!1}},computed:{filteredHistory:function(){var t=this;return this.history.filter((function(e){var r=t.filterText.toLowerCase();return Object.keys(e).some((function(t){var o=e[t];return(o="string"!=typeof o?o.toString():o).toLowerCase().includes(r)}))}))}},methods:{clearHistory:function(){this.history=[],this.filterText="",this.disableHistoryClearing(),l("history",this.history),this.$toast.error("删除历史记录",{icon:"delete"})},useHistory:function(t){this.$emit("useHistory",t)},findEntryStatus:function(t){return Object(o.findStatusGroup)(t.status)||{className:""}},deleteHistory:function(t){this.history.splice(this.history.indexOf(t),1),0===this.history.length&&(this.filterText=""),l("history",this.history),this.$toast.error("已删除",{icon:"delete"})},addEntry:function(t){this.history.push(t),l("history",this.history)},enableHistoryClearing:function(){this.history&&this.history.length&&(this.isClearingHistory=!0)},disableHistoryClearing:function(){this.isClearingHistory=!1},sort_by_time:function(){var t=this,e=this.history.slice(0);e.sort((function(a,b){var e=a.date.split("/"),r=b.date.split("/"),o=a.time.split(":"),l=b.time.split(":"),n=new Date(e[2],e[1],e[0],o[0],o[1],o[2]),c=new Date(r[2],r[1],r[0],l[0],l[1],l[2]);return t.reverse_sort_time?c-n:n-c})),this.history=e,this.reverse_sort_time=!this.reverse_sort_time},sort_by_status_code:function(){var t=this,e=this.history.slice(0);e.sort((function(a,b){return t.reverse_sort_status_code?b.status-a.status:a.status-b.status})),this.history=e,this.reverse_sort_status_code=!this.reverse_sort_status_code},sort_by_url:function(){var t=this,e=this.history.slice(0);e.sort((function(a,b){return t.reverse_sort_url?a.url==b.url?0:+(a.url<b.url)||-1:a.url==b.url?0:+(a.url>b.url)||-1})),this.history=e,this.reverse_sort_url=!this.reverse_sort_url},sort_by_label:function(){var t=this,e=this.history.slice(0);e.sort((function(a,b){return t.reverse_sort_label?a.label==b.label?0:+(a.label<b.label)||-1:a.label==b.label?0:+(a.label>b.label)||-1})),this.history=e,this.reverse_sort_label=!this.reverse_sort_label},sort_by_path:function(){var t=this,e=this.history.slice(0);e.sort((function(a,b){return t.reverse_sort_path?a.path==b.path?0:+(a.path<b.path)||-1:a.path==b.path?0:+(a.path>b.path)||-1})),this.history=e,this.reverse_sort_path=!this.reverse_sort_path},sort_by_duration:function(){var t=this,e=this.history.slice(0);e.sort((function(a,b){return t.reverse_sort_duration?a.duration==b.duration?0:+(a.duration<b.duration)||-1:a.duration==b.duration?0:+(a.duration>b.duration)||-1})),this.history=e,this.reverse_sort_duration=!this.reverse_sort_duration},toggleCollapse:function(){this.showMore=!this.showMore},toggleStar:function(t){this.history[t].star=!this.history[t].star,l("history",this.history)}}},c=(r(698),r(33)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pw-section",{ref:"history",staticClass:"green",attrs:{icon:"history",label:"历史记录"}},[r("ul",[r("li",{attrs:{id:"filter-history"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],attrs:{"aria-label":"Search",type:"text",placeholder:"查找历史记录"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}})])]),t._v(" "),r("virtual-list",{staticClass:"virtual-list",class:{filled:t.filteredHistory.length},attrs:{size:185,remain:Math.min(5,t.filteredHistory.length)}},t._l(t.filteredHistory,(function(e,o){return r("ul",{key:o,staticClass:"entry"},[r("div",{staticClass:"show-on-large-screen"},[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.star?"删除加星":"加星"},expression:"{ content: !entry.star ? '加星' : '删除加星' }"}],staticClass:"icon",class:{stared:e.star},on:{click:function(e){return t.toggleStar(o)}}},[e.star?r("i",{staticClass:"material-icons"},[t._v("star")]):r("i",{staticClass:"material-icons"},[t._v("star_border")])]),t._v(" "),r("li",[r("input",{staticClass:"bg-color",attrs:{"aria-label":"Label",type:"text",readonly:"",placeholder:"没有标签"},domProps:{value:e.label}})]),t._v(" "),r("v-popover",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"选项",expression:"'选项'"}],staticClass:"tooltip-target icon"},[r("i",{staticClass:"material-icons"},[t._v("more_vert")])]),t._v(" "),r("template",{slot:"popover"},[r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",attrs:{id:"use-button#"+o,"aria-label":"Edit"},on:{click:function(r){return t.useHistory(e)}}},[r("i",{staticClass:"material-icons"},[t._v("restore")]),t._v(" "),r("span",[t._v("恢复")])])]),t._v(" "),r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",attrs:{id:"delete-button#"+o,"aria-label":"Delete"},on:{click:function(r){return t.deleteHistory(e)}}},[r("i",{staticClass:"material-icons"},[t._v("delete")]),t._v(" "),r("span",[t._v("删除")])])])])],2)],1),t._v(" "),r("div",{staticClass:"show-on-large-screen"},[r("li",{staticClass:"method-list-item"},[r("input",{class:t.findEntryStatus(e).className,style:{"--status-code":e.status},attrs:{"aria-label":"Method",type:"text",readonly:""},domProps:{value:e.method}}),t._v(" "),r("span",{staticClass:"entry-status-code",class:t.findEntryStatus(e).className,style:{"--status-code":e.status}},[t._v(t._s(e.status))])])]),t._v(" "),r("div",{staticClass:"show-on-large-screen"},[r("li",[r("input",{attrs:{"aria-label":"URL",type:"text",readonly:"",placeholder:"No URL"},domProps:{value:e.url}})]),t._v(" "),r("li",[r("input",{attrs:{"aria-label":"Path",type:"text",readonly:"",placeholder:"No path"},domProps:{value:e.path}})])]),t._v(" "),r("transition",{attrs:{name:"smooth"}},[t.showMore?r("div",{staticClass:"show-on-large-screen"},[r("li",[r("input",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.date,expression:"entry.date"}],attrs:{"aria-label":"Time",type:"text",readonly:""},domProps:{value:e.time}})]),t._v(" "),r("li",[r("input",{attrs:{"aria-label":"Duration",type:"text",readonly:"",placeholder:"没有时间"},domProps:{value:e.duration}})]),t._v(" "),r("li",[r("input",{attrs:{"aria-label":"Pre Request Script",type:"text",readonly:"",placeholder:"没有请求前脚本"},domProps:{value:e.preRequestScript}})])]):t._e()])],1)})),0),t._v(" "),r("ul",{class:{hidden:0!=t.filteredHistory.length||0===t.history.length}},[r("li",[r("label",[t._v('没有发现 "'+t._s(t.filterText)+'"')])])]),t._v(" "),0===t.history.length?r("ul",[r("li",[r("label",[t._v("历史记录不存在")])])]):t._e(),t._v(" "),0!==t.history.length?r("div",[t.isClearingHistory?r("div",{staticClass:"flex-wrap"},[r("label",{attrs:{for:"clear-history-button"}},[t._v("你确定吗?")]),t._v(" "),r("div",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"是",expression:"'是'"}],staticClass:"icon",attrs:{id:"confirm-clear-history-button"},on:{click:t.clearHistory}},[r("i",{staticClass:"material-icons"},[t._v("done")])]),t._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"否",expression:"'否'"}],staticClass:"icon",attrs:{id:"reject-clear-history-button"},on:{click:t.disableHistoryClearing}},[r("i",{staticClass:"material-icons"},[t._v("close")])])])]):r("div",{staticClass:"flex-wrap"},[r("button",{staticClass:"icon",attrs:{id:"clear-history-button",disabled:0===t.history.length},on:{click:t.enableHistoryClearing}},[r("i",{staticClass:"material-icons"},[t._v("clear_all")]),t._v(" "),r("span",[t._v("清除全部")])]),t._v(" "),r("v-popover",[r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"排序",expression:"'排序'"}],staticClass:"tooltip-target icon"},[r("i",{staticClass:"material-icons"},[t._v("sort")])]),t._v(" "),r("template",{slot:"popover"},[r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.sort_by_label()}}},[r("i",{staticClass:"material-icons"},[t._v("sort_by_alpha")]),t._v(" "),r("span",[t._v("标签")])])]),t._v(" "),r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.sort_by_time()}}},[r("i",{staticClass:"material-icons"},[t._v("access_time")]),t._v(" "),r("span",[t._v("时间")])])]),t._v(" "),r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.sort_by_status_code()}}},[r("i",{staticClass:"material-icons"},[t._v("assistant")]),t._v(" "),r("span",[t._v("状态")])])]),t._v(" "),r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.sort_by_url()}}},[r("i",{staticClass:"material-icons"},[t._v("language")]),t._v(" "),r("span",[t._v("URL")])])]),t._v(" "),r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.sort_by_path()}}},[r("i",{staticClass:"material-icons"},[t._v("timeline")]),t._v(" "),r("span",[t._v("路径")])])]),t._v(" "),t.showMore?r("div",[r("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"icon",on:{click:function(e){return t.sort_by_duration()}}},[r("i",{staticClass:"material-icons"},[t._v("timer")]),t._v(" "),r("span",[t._v("持续时间")])])]):t._e(),t._v(" "),r("div",[r("button",{staticClass:"icon",on:{click:function(e){return t.toggleCollapse()}}},[t.showMore?r("i",{staticClass:"material-icons"},[t._v("last_page")]):r("i",{staticClass:"material-icons"},[t._v("first_page")]),t._v(" "),r("span",[t._v(t._s(t.showMore?"隐藏更多":"显示更多"))])])])])],2)],1)]):t._e()],1)}),[],!1,null,"6daf80ae",null);e.default=component.exports}}]);